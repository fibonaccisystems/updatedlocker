<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zara 500â‚¬ Gutschein Locker</title>
  
  <style>
    /* Styling as before */
    body {
      margin: 0;
      padding: 0;
      background-color: #f1f1f1; /* Soft light background */
      font-family: 'Poppins', sans-serif; /* Elegant and modern font */
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    /* Locker Container */
    #lockerWrapper {
      width: 90%;
      max-width: 600px;
      background-color: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
      text-align: center;
      position: relative;
    }

    /* Heading */
    #lockerWrapper h1 {
      font-size: 28px;
      color: #333;
      margin-bottom: 20px;
      font-weight: 600;
    }

    /* Description Text */
    #lockerWrapper p {
      font-size: 18px;
      color: #555;
      margin-bottom: 20px;
    }

    /* Offer Links */
    .offers {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-bottom: 20px;
    }

    .offer {
      display: flex;
      flex-direction: column;
      align-items: center;
      border: 2px solid #ddd;
      border-radius: 8px;
      padding: 10px;
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .offer:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    .offer a {
      color: #3498db;
      text-decoration: none;
      font-weight: 600;
      margin-top: 10px;
    }

    .offer a:hover {
      text-decoration: underline;
    }

    .completed {
      background-color: #27ae60;  /* Green background when completed */
      color: white;
    }

    /* Complete Message */
    #completeMessage {
      display: none;
      margin-top: 20px;
      font-size: 16px;
      color: #2ecc71;
    }

    /* Button Styling */
    #redirectButton {
      background-color: #3498db;
      color: white;
      border: none;
      padding: 12px 25px;
      font-size: 16px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      opacity: 0.5;
      pointer-events: none;
    }

    #redirectButton.active {
      opacity: 1;
      pointer-events: auto;
    }

    #redirectButton:hover {
      background-color: #2980b9;
    }

  </style>
</head>

<body>
  <div id="lockerWrapper">
    <h1>ðŸŽ‰ GlÃ¼ckwunsch! Dein 500â‚¬ Zara-Gutschein wartet auf dich!</h1>
    <p>Um deinen Gutschein zu erhalten, wÃ¤hle bitte <b>1â€“2 der folgenden Angebote</b> aus und schlieÃŸe sie ab:</p>
    
    <div class="offers">
      <!-- Offer 1 -->
      <div class="offer" id="offer1" onclick="completeOffer(1)">
        <a href="https://www.totaltr4ffic.com/41LGZKT/2KPFN6F6/" target="_blank" onclick="openInNewTab(event, 1)">
          Gewinne LUSH-Produkte im Wert von 200 Euro!
        </a>
      </div>

      <!-- Offer 2 -->
      <div class="offer" id="offer2" onclick="completeOffer(2)">
        <a href="https://www.totaltr4ffic.com/41LGZKT/2KPH335R/" target="_blank" onclick="openInNewTab(event, 2)">
          Dein Gratis H&M Gutschein im Wert von 500â‚¬!
        </a>
      </div>

      <!-- Offer 3 -->
      <div class="offer" id="offer3" onclick="completeOffer(3)">
        <a href="https://www.totaltr4ffic.com/41LGZKT/2HJKQ7D7/" target="_blank" onclick="openInNewTab(event, 3)">
          Erhalte ein Lindt-Schokoladenpaket im Wert von 100â‚¬!
        </a>
      </div>
    </div>

    <div id="completeMessage">
      <p>âœ… Du hast die erforderlichen Angebote abgeschlossen!</p>
      <button id="redirectButton" onclick="redirectToFinalPage()">Weiter zu deinem Zara-Gutschein</button>
    </div>
  </div>

  <script>
    let completedOffers = 0;
    const requiredOffers = 2;  // Minimum offers to complete
    let clickedOffers = [false, false, false]; // Track if offers were opened in new tab

    // Mark an offer as completed
    function completeOffer(offerNumber) {
      const offerElement = document.getElementById(`offer${offerNumber}`);
      if (!offerElement.classList.contains('completed')) {
        offerElement.classList.add('completed');
        completedOffers++;
        updateRedirectButton();
      }
    }

    // Track if an offer was opened in a new tab
    function openInNewTab(event, offerNumber) {
      event.preventDefault(); // Prevent default behavior
      clickedOffers[offerNumber - 1] = true; // Mark offer as clicked
      window.open(event.target.href, '_blank'); // Open in a new tab
      updateRedirectButton(); // Update the button if conditions are met
    }

    // Update the button state based on completed offers
    function updateRedirectButton() {
      const redirectButton = document.getElementById("redirectButton");
      let activeCount = clickedOffers.filter(clicked => clicked).length;  // Count how many offers were clicked

      if (activeCount >= requiredOffers) {
        document.getElementById("completeMessage").style.display = "block";
        redirectButton.classList.add("active");
        redirectButton.style.opacity = 1;
      }
    }

    // Redirect to the final page (Zara 500â‚¬ URL)
    function redirectToFinalPage() {
      window.location.href = "https://www.totaltr4ffic.com/41LGZKT/2KPD99NK/"; // Replace with the actual link
    }

    // Reset the page
    window.onload = function () {
      completedOffers = 0;
      updateRedirectButton();
    };
  </script>
</body>
</html>